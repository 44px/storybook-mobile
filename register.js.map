{"version":3,"file":"register.js","sources":["src/getDomPath.js","src/utils.js","src/Hints.js","src/register.js"],"sourcesContent":["function getDomPath(el) {\n  var stack = []\n  while (el.parentNode) {\n    let sibCount = 0\n    let sibIndex = 0\n    for (var i = 0; i < el.parentNode.childNodes.length; i++) {\n      var sib = el.parentNode.childNodes[i]\n      if (sib.nodeName === el.nodeName) {\n        if (sib === el) {\n          sibIndex = sibCount\n        }\n        sibCount++\n      }\n    }\n    if (el.hasAttribute('id') && el.id !== '') {\n      stack.unshift(el.nodeName.toLowerCase() + '#' + el.id)\n    } else if (el.classList.toString() !== '' && el.tagName !== 'BODY') {\n      stack.unshift(el.nodeName.toLowerCase() + '.' + el.classList.toString())\n    } else if (sibCount > 1) {\n      stack.unshift(el.nodeName.toLowerCase() + ':eq(' + sibIndex + ')')\n    } else {\n      stack.unshift(el.nodeName.toLowerCase())\n    }\n    el = el.parentNode\n  }\n  const toFilter = ['html', 'body', 'div#root']\n  return stack.filter((el) => !toFilter.includes(el)).join(' > ')\n}\n\nexport default getDomPath\n","import getDomPath from './getDomPath'\n\nexport const getActiveStyles = function (container, el) {\n  const sheets = container.styleSheets\n  const result = []\n\n  const activeRegex = /:active$/\n\n  Object.keys(sheets).forEach((k) => {\n    const rules = sheets[k].rules || sheets[k].cssRules\n    rules.forEach((rule) => {\n      if (!rule.selectorText.match(activeRegex)) return\n      const ruleNoPseudoClass = rule.selectorText.replace(activeRegex, '')\n      if (el.matches(ruleNoPseudoClass)) {\n        result.push(rule)\n      }\n    })\n  })\n  return result.length ? result : null\n}\n\nconst getElements = (container, tag) => [...container.querySelectorAll(tag)]\n\nexport const getActiveWarnings = (container) => {\n  const buttons = getElements(container, 'button')\n  const links = getElements(container, 'a')\n\n  const filterActiveStyles = (el) => {\n    const activeStyles = getActiveStyles(container, el)\n    if (activeStyles) return false\n    return true\n  }\n  return buttons\n    .concat(links)\n    .filter(filterActiveStyles)\n    .map((el) => ({\n      type: el.nodeName === 'A' ? 'Link' : 'Button',\n      text: el.innerText,\n      path: getDomPath(el),\n    }))\n}\n\nexport const getSrcsetWarnings = (container) => {\n  const images = getElements(container, 'img')\n\n  const warnings = images\n    .filter((img) => {\n      const src = img.getAttribute('src')\n      const srcSet = img.getAttribute('srcset')\n      if (srcSet) return false\n      const isSVG = Boolean(src.match(/svg$/))\n      if (isSVG) return false\n      const isLarge =\n        parseInt(getComputedStyle(img).width, 10) > 300 ||\n        img.naturalWidth > 300\n      if (!isLarge) return false\n      return true\n    })\n    .map((img) => {\n      return {\n        src: img.src,\n        path: getDomPath(img),\n        alt: img.alt,\n      }\n    })\n  return warnings\n}\n\nconst textInputs = [\n  'text',\n  'search',\n  'tel',\n  'url',\n  'email',\n  'number',\n  'password',\n]\n\nconst attachLabels = (inputs, container) => {\n  return inputs.map((input) => {\n    let labelText = ''\n    if (input.parentElement.nodeName === 'LABEL')\n      labelText = input.parentElement.innerText\n    if (input.id) {\n      const label = container.querySelector(`label for=\"${input.id}\"`)\n      if (label) labelText = label.innerText\n    }\n    return {\n      path: getDomPath(input),\n      labelText,\n      type: input.type,\n    }\n  })\n}\n\nexport const getAutocompleteWarnings = (container) => {\n  const inputs = getElements(container, 'input')\n  const warnings = inputs.filter((input) => {\n    const currentType = input.getAttribute('type')\n    const autocomplete = input.getAttribute('autocomplete')\n    if (textInputs.find((type) => currentType === type) && !autocomplete) {\n      return true\n    }\n    return false\n  })\n  return attachLabels(warnings, container)\n}\n\nexport const getOverflowAutoWarnings = (container) => {\n  return getElements(container, '#root *')\n    .filter((el) => {\n      const style = getComputedStyle(el)\n      if (style.overflow === 'scroll' || style.overflow === 'auto') {\n        if (style['-webkit-overflow-scrolling'] !== 'touch') {\n          return true\n        }\n      }\n      return false\n    })\n    .map((el) => ({\n      path: getDomPath(el),\n    }))\n}\n\nexport const getOriginalStyles = function (container, el) {\n  const sheets = container.styleSheets\n  const result = []\n  Object.keys(sheets).forEach((k) => {\n    const rules = sheets[k].rules || sheets[k].cssRules\n    rules.forEach((rule) => {\n      if (el.matches(rule.selectorText)) {\n        result.push(rule)\n      }\n    })\n  })\n  return result.length ? result : null\n}\n\nexport const get100vhWarning = (container) => {\n  return getElements(container, '#root *')\n    .map((el) => {\n      const styles = getOriginalStyles(container, el)\n      if (!styles) return false\n      const hasVHWarning = styles.find((style) => /100vh/.test(style.cssText))\n      if (hasVHWarning) return { el, css: hasVHWarning.cssText }\n      return null\n    })\n    .filter(Boolean)\n    .map((data) => ({\n      ...data,\n      path: getDomPath(data.el),\n    }))\n}\n\nexport const getInputTypeWarnings = (container) => {\n  const inputs = getElements(container, 'input[type=\"text\"]').filter(\n    (input) => !input.getAttribute('inputmode')\n  )\n  return attachLabels(inputs, container)\n}\n\nconst minSize = 40\n\nexport const getTouchTargetSizeWarning = (container) => {\n  const buttons = getElements(container, 'button')\n  const links = getElements(container, 'a')\n  const tooSmall = (el) => {\n    const { width, height } = el.getBoundingClientRect()\n    if (width < minSize || height < minSize) {\n      return {\n        type: el.nodeName === 'A' ? 'Link' : 'Button',\n        path: getDomPath(el),\n        text: el.innerText,\n        width: Math.floor(width),\n        height: Math.floor(height),\n      }\n    }\n    return null\n  }\n  const tooSmallButtons = buttons.map(tooSmall).filter(Boolean)\n  const tooSmallLinks = links.map(tooSmall).filter(Boolean)\n  return tooSmallButtons.concat(tooSmallLinks)\n}\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport {\n  getActiveWarnings,\n  getAutocompleteWarnings,\n  getInputTypeWarnings,\n  getOverflowAutoWarnings,\n  getSrcsetWarnings,\n  getTouchTargetSizeWarning,\n  get100vhWarning,\n} from './utils'\n\nconst Info = () => (\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"eye\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 576 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z\"\n    ></path>\n  </svg>\n)\n\nconst Warning = () => {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      data-prefix=\"fas\"\n      data-icon=\"exclamation-circle\"\n      role=\"img\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n      ></path>\n    </svg>\n  )\n}\n\nconst accessibleBlue = 'rgb(20, 116, 243)'\n\nconst StyledContentContainer = styled.div`\n  > div {\n    border-bottom: 1px solid ${({ theme }) => theme.color.medium};\n    padding: 0.75rem;\n  }\n`\n\nconst StyledContainer = styled.div`\n  font-size: ${({ theme }) => theme.typography.size.s2}px;\n  h2 {\n    font-weight: bold;\n    font-size: ${({ theme }) => theme.typography.size.s2}px;\n    margin-top: 0;\n    margin-bottom: 0;\n    padding: 0.5rem 0 0.5rem 1rem;\n    background: ${({ theme }) => theme.color.light};\n    border-bottom: 1px solid ${({ theme }) => theme.color.medium};\n\n    svg {\n      height: 0.8rem;\n      position: relative;\n      top: 0.075rem;\n      margin-right: 0.5rem;\n    }\n  }\n  h3 {\n    font-size: ${({ theme }) => theme.typography.size.s2}px;\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n    margin-top: 0;\n  }\n\n  code {\n    font-size: 0.85rem;\n    background: hsla(0, 0%, 50%, 0.1);\n    border-radius: 3px;\n  }\n\n  summary {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0.2rem 0.3rem;\n    border-radius: 5px;\n    color: ${accessibleBlue};\n    &:focus {\n      outline: none;\n      box-shadow: 0 0 0 3px ${({ theme }) => theme.color.light};\n    }\n  }\n\n  ul {\n    padding-left: 1.25rem;\n  }\n  a {\n    text-decoration: none;\n    color: ${accessibleBlue};\n    &:hover {\n      border-bottom: 1px solid ${accessibleBlue};\n    }\n  }\n`\n\nconst StyledImg = styled.img`\n  height: 4rem;\n  width: auto;\n  max-width: 100%;\n`\n\nconst StyledEntry = styled.li`\n  margin-bottom: 0.5rem;\n`\n\nconst fixText = 'Learn more'\n\nconst ActiveWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n  return (\n    <div>\n      <h3>\n        Missing <code>:active</code> styles\n      </h3>\n      <p>\n        Clear <code>:active</code> styles are key to ensuring users on mobile\n        get instantaneous feedback on tap, even on slower devices.\n      </p>\n      <ul>\n        {warnings.map((w) => {\n          return (\n            <StyledEntry>\n              {w.type} with text <b>{w.text}</b> (<code>{w.path}</code>)\n            </StyledEntry>\n          )\n        })}\n      </ul>\n      <details>\n        <summary>{fixText}</summary>\n        <p>\n          <a href=\"https://fvsch.com/styling-buttons/#states\">This article</a>{' '}\n          offers a great overview of how to style buttons.\n        </p>\n      </details>\n    </div>\n  )\n}\n\nconst AutocompleteWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n  return (\n    <div>\n      <h3>\n        Missing <code>autocomplete</code> prop\n      </h3>\n      <p>\n        Most, if not all, textual inputs should have an explicit{' '}\n        <code>autocomplete</code> prop.\n      </p>\n      <ul>\n        {warnings.map((w) => {\n          return (\n            <StyledEntry>\n              Input with type <code>{w.type}</code> and label{' '}\n              <b>{w.labelText}</b> (<code>{w.path}</code>)\n            </StyledEntry>\n          )\n        })}\n      </ul>\n      <details>\n        <summary>{fixText}</summary>\n        <p>\n          <a href=\"https://developers.google.com/web/updates/2015/06/checkout-faster-with-autofill\">\n            Google autocomplete documentation\n          </a>\n        </p>\n        <p>\n          <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete\">\n            Mozilla autocomplete documentation\n          </a>\n        </p>\n      </details>\n    </div>\n  )\n}\n\nconst InputTypeWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n  return (\n    <div>\n      <h3>\n        Input type <code>text</code> with no <code>inputmode</code>{' '}\n      </h3>\n      <div>\n        This will render the default text keyboard on mobile (which could very\n        well be what you want!){' '}\n        <a href=\"https://better-mobile-inputs.netlify.com/\">\n          If you haven't already, take a moment to make sure this is correct.{' '}\n        </a>\n      </div>\n      <ul>\n        {warnings.map((w) => {\n          return (\n            <StyledEntry>\n              Input with type <code>{w.type}</code> and label{' '}\n              <b>{w.labelText}</b> <code>({w.path})</code>\n            </StyledEntry>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nconst OverflowWarning = ({ warnings }) => {\n  if (!warnings.length) return null\n\n  return (\n    <div>\n      <h3>\n        Scrollable container without{' '}\n        <code>-webkit-overflow-scrolling:touch</code>\n      </h3>\n      <p>This element will scroll awkwardly and abruptly on iOS.</p>\n      <ul>\n        {warnings.map(({ path }) => {\n          return (\n            <StyledEntry>\n              <code>{path}</code>\n            </StyledEntry>\n          )\n        })}\n      </ul>\n      <details>\n        <summary>{fixText}</summary>\n        <p>\n          To ensure your users benefit from momentum scrolling, add this line of\n          CSS: <code>-webkit-overflow-scrolling:touch</code> to any container\n          with a style of <code>overflow: auto</code> or{' '}\n          <code>overflow: scroll</code>.{' '}\n          <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-overflow-scrolling\">\n            Learn more about the property here.\n          </a>\n        </p>\n      </details>\n    </div>\n  )\n}\n\nconst HeightWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n  return (\n    <div>\n      <h3>\n        Usage of <code>100vh</code> CSS\n      </h3>\n      <p>\n        Viewport units are{' '}\n        <a href=\"https://chanind.github.io/javascript/2019/09/28/avoid-100vh-on-mobile-web.html\">\n          tricky on mobile.\n        </a>\n      </p>\n      <ul>\n        {warnings.map(({ path }) => {\n          return (\n            <StyledEntry>\n              <code>{path}</code>\n            </StyledEntry>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nconst SrcsetWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n  return (\n    <div>\n      <h3>\n        Large image without <code>srscset</code>\n      </h3>\n      <p>\n        Forcing your users on phones to download huge images will slow them\n        down. Use <code>srcset</code> for a simple way to customize image sizes\n        to your users' needs.\n      </p>\n      <ul>\n        {warnings.map(({ src, alt }) => {\n          return (\n            <StyledEntry>\n              <div>\n                <StyledImg src={src} alt={alt} />\n              </div>\n            </StyledEntry>\n          )\n        })}\n      </ul>\n      <details>\n        <summary>{fixText}</summary>\n        <p>\n          Here's a{' '}\n          <a href=\"https://cloudfour.com/thinks/responsive-images-the-simple-way\">\n            good overview of the problem and how to solve it with{' '}\n            <code>srcset</code>\n          </a>\n          .\n        </p>\n      </details>\n    </div>\n  )\n}\n\nconst TouchTargetWarnings = ({ warnings }) => {\n  if (!warnings.length) return null\n\n  return (\n    <div>\n      <h3>Touch target too small </h3>\n      <p>\n        It's important that clickable elements are large enough for users to\n        easily trigger, which generally means &gt;= 40px including padding.\n      </p>\n      <ul>\n        {warnings.map((w) => {\n          return (\n            <StyledEntry>\n              <div>\n                {w.type} with text <b>{w.text}</b> <code>{w.path}</code>\n              </div>\n              {w.width < 42 && <div>width: {w.width}px</div>}\n              {w.height < 42 && <div>height: {w.height}px</div>}\n            </StyledEntry>\n          )\n        })}\n      </ul>\n      <details>\n        <summary>{fixText}</summary>\n        <p>\n          <a href=\"https://material.io/design/usability/accessibility.html#layout-typography\">\n            Material design accessibility guidelines\n          </a>\n        </p>\n      </details>\n    </div>\n  )\n}\n\nconst Hints = ({ container }) => {\n  const activeWarnings = getActiveWarnings(container)\n  const autocompleteWarnings = getAutocompleteWarnings(container)\n  const inputTypeWarnings = getInputTypeWarnings(container)\n  const touchTargetWarnings = getTouchTargetSizeWarning(container)\n  const overflowWarnings = getOverflowAutoWarnings(container)\n  const srcsetWarnings = getSrcsetWarnings(container)\n  const heightWarnings = get100vhWarning(container)\n\n  const warningCount =\n    activeWarnings.length +\n    autocompleteWarnings.length +\n    touchTargetWarnings.length +\n    overflowWarnings.length +\n    srcsetWarnings.length +\n    inputTypeWarnings.length +\n    overflowWarnings.length +\n    heightWarnings.length\n\n  const tipsCount = inputTypeWarnings.length + heightWarnings.length\n\n  React.useEffect(() => {\n    const tab = [\n      ...document.querySelectorAll('button[role=\"tab\"]'),\n    ].find((el) => /^Mobile(\\s\\(\\d\\))?$/.test(el.innerText))\n    if (tab) {\n      if (warningCount === 0) {\n        tab.innerText = 'Mobile'\n      } else {\n        tab.innerText = `Mobile (${warningCount})`\n      }\n    }\n  })\n\n  const renderWarnings = warningCount > 0\n\n  return (\n    <StyledContainer>\n      {Boolean(renderWarnings) && (\n        <div>\n          <h2>\n            {' '}\n            <Warning /> Warnings ({warningCount - tipsCount} element\n            {warningCount - tipsCount > 1 ? 's' : ''})\n          </h2>\n          <StyledContentContainer>\n            <ActiveWarnings warnings={activeWarnings} />\n            <TouchTargetWarnings warnings={touchTargetWarnings} />\n            <AutocompleteWarnings warnings={autocompleteWarnings} />\n            <SrcsetWarnings warnings={srcsetWarnings} />\n            <OverflowWarning warnings={overflowWarnings} />\n          </StyledContentContainer>\n        </div>\n      )}\n\n      {Boolean(tipsCount) && (\n        <div>\n          <h2>\n            <Info /> Tips ({tipsCount} element{tipsCount > 1 ? 's' : ''})\n          </h2>\n          <StyledContentContainer>\n            <InputTypeWarnings warnings={inputTypeWarnings} />\n            <HeightWarnings warnings={heightWarnings} />\n          </StyledContentContainer>\n        </div>\n      )}\n    </StyledContainer>\n  )\n}\n\nexport default Hints\n","import React from 'react'\nimport { addons, types } from '@storybook/addons'\nimport { STORY_CHANGED } from '@storybook/core-events'\nimport { useChannel, useAddonState } from '@storybook/api'\nimport { AddonPanel } from '@storybook/components'\nimport styled from '@emotion/styled'\nimport Hints from './Hints'\n\nconst StyledLoading = styled.div`\n  padding: 1rem;\n  font-weight: bold;\n`\n\nconst ADDON_ID = 'mobile-hints'\nconst PARAM_KEY = 'mobile-hints'\nconst PANEL_ID = `${ADDON_ID}/panel`\n\nconst viewportId = 'storybook/viewport'\nconst noViewport = 'reset'\nconst defaultViewport = 'mobile1'\n\nconst ViewportManager = ({ active }) => {\n  const [viewportState, setViewportState] = useAddonState(viewportId)\n  const cachedState = React.useRef(null)\n  React.useEffect(() => {\n    if (cachedState.current && !active) {\n      setViewportState({\n        selected: cachedState.current,\n      })\n      cachedState.current = null\n    } else {\n      if (active && (!viewportState || viewportState.selected === noViewport)) {\n        cachedState.current = noViewport\n        setViewportState({\n          selected: defaultViewport,\n        })\n      }\n    }\n  }, [active]) // eslint-disable-line\n\n  return null\n}\n\nconst StateWrapper = ({ children }) => {\n  const [storyId, setStoryId] = React.useState('')\n\n  useChannel({\n    [STORY_CHANGED]: (...args) => {\n      setStoryId(args)\n    },\n  })\n  return React.cloneElement(children, {\n    storyId,\n  })\n}\n\nconst getContainer = () => {\n  const iframe = document.getElementById('storybook-preview-iframe')\n  if (!iframe) return null\n  return iframe.contentDocument\n}\n\nconst delay = 1000\nconst MyPanel = ({ storyId }) => {\n  const [html, setHTML] = React.useState('')\n\n  React.useEffect(() => {\n    const setContainer = () => {\n      const container = getContainer()\n      if (!container || !container.body) {\n        setTimeout(setContainer, delay)\n        return\n      }\n      setHTML(container.body.innerHTML)\n    }\n    setTimeout(setContainer, delay)\n  }, [storyId])\n\n  if (!html) return <StyledLoading>Running mobile audit...</StyledLoading>\n\n  const container = getContainer()\n\n  return <Hints container={container} />\n}\n\naddons.register(ADDON_ID, () => {\n  const render = ({ active, key }) => {\n    return (\n      <React.Fragment>\n        <ViewportManager active={active} />\n        <AddonPanel active={active} key={key}>\n          <StateWrapper active={active}>\n            <MyPanel key={key} active={active} />\n          </StateWrapper>\n        </AddonPanel>\n      </React.Fragment>\n    )\n  }\n  const title = 'Mobile'\n\n  addons.add(PANEL_ID, {\n    type: types.PANEL,\n    title,\n    render,\n    paramKey: PARAM_KEY,\n  })\n})\n"],"names":["getDomPath","el","stack","parentNode","sibCount","sibIndex","i","childNodes","length","sib","nodeName","hasAttribute","id","unshift","toLowerCase","classList","toString","tagName","toFilter","filter","includes","join","const","getActiveStyles","container","sheets","styleSheets","result","activeRegex","Object","keys","forEach","k","rules","cssRules","rule","selectorText","match","ruleNoPseudoClass","replace","matches","push","getElements","tag","querySelectorAll","getActiveWarnings","buttons","links","filterActiveStyles","activeStyles","concat","map","type","text","innerText","path","getSrcsetWarnings","images","warnings","img","src","getAttribute","srcSet","isSVG","Boolean","isLarge","parseInt","getComputedStyle","width","naturalWidth","alt","textInputs","attachLabels","inputs","input","labelText","parentElement","label","querySelector","getAutocompleteWarnings","currentType","autocomplete","find","getOverflowAutoWarnings","style","overflow","getOriginalStyles","get100vhWarning","styles","hasVHWarning","test","cssText","css","data","getInputTypeWarnings","minSize","getTouchTargetSizeWarning","tooSmall","getBoundingClientRect","height","Math","floor","tooSmallButtons","tooSmallLinks","Info","Warning","accessibleBlue","StyledContentContainer","styled","div","theme","color","medium","StyledContainer","typography","size","s2","light","StyledImg","StyledEntry","li","fixText","ActiveWarnings","w","AutocompleteWarnings","InputTypeWarnings","OverflowWarning","HeightWarnings","SrcsetWarnings","TouchTargetWarnings","Hints","activeWarnings","autocompleteWarnings","inputTypeWarnings","touchTargetWarnings","overflowWarnings","srcsetWarnings","heightWarnings","warningCount","tipsCount","React","useEffect","tab","document","renderWarnings","StyledLoading","ADDON_ID","PARAM_KEY","PANEL_ID","viewportId","noViewport","defaultViewport","ViewportManager","useAddonState","viewportState","setViewportState","cachedState","useRef","current","active","selected","StateWrapper","useState","storyId","setStoryId","useChannel","STORY_CHANGED","args","cloneElement","children","getContainer","iframe","getElementById","contentDocument","delay","MyPanel","html","setHTML","setContainer","body","setTimeout","innerHTML","addons","register","render","key","AddonPanel","title","add","types","PANEL","paramKey"],"mappings":"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"}